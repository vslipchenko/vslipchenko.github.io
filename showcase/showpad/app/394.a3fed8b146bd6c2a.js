"use strict";(self.webpackChunkshowpad=self.webpackChunkshowpad||[]).push([[394],{9394:(B,f,i)=>{i.r(f),i.d(f,{PokemonsModule:()=>L});var r=i(9808),v=i(1135),T=i(7579),p=i(2722),h=i(8746),x=i(4004),e=i(5e3),m=i(8966),k=i(5863);let P=(()=>{class n{constructor(){this.open=new e.vpe,this.addToWishlist=new e.vpe,this.addToIveCaught=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-row-menu"]],outputs:{open:"open",addToWishlist:"addToWishlist",addToIveCaught:"addToIveCaught"},decls:9,vars:0,consts:[["mat-dialog-title",""],[1,"menu-buttons"],["mat-dialog-close","","color","accent","text","Open profile","icon","launch",3,"clicked"],["mat-dialog-close","","color","accent","text","Add to Wishlist","icon","playlist_add",3,"clicked"],["mat-dialog-close","","color","accent","text","Add to I've caught","icon","playlist_add_check",3,"clicked"],["mat-dialog-close","","text","Cancel"]],template:function(t,o){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Menu"),e.qZA(),e.TgZ(2,"mat-dialog-content")(3,"div",1)(4,"app-button",2),e.NdJ("clicked",function(){return o.open.emit()}),e.qZA(),e.TgZ(5,"app-button",3),e.NdJ("clicked",function(){return o.addToWishlist.emit()}),e.qZA(),e.TgZ(6,"app-button",4),e.NdJ("clicked",function(){return o.addToIveCaught.emit()}),e.qZA()()(),e.TgZ(7,"mat-dialog-actions"),e._UZ(8,"app-button",5),e.qZA())},directives:[m.uh,m.xY,k.r,m.ZT,m.H8],styles:[".menu-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}"],changeDetection:0}),n})();var w=i(4225),Z=i(2072),C=i(1083),y=i(9745),M=i(6409),N=i(5800),S=i(44),d=i(3075),g=i(7322),I=i(7531);let O=(()=>{class n{constructor(){this.appearance="fill",this.label="",this.placeholder="",this.control=new d.NI,this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-input"]],inputs:{appearance:"appearance",color:"color",label:"label",placeholder:"placeholder",control:"control",disabled:"disabled"},decls:4,vars:6,consts:[[3,"appearance","color"],["matInput","",3,"placeholder","formControl"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-form-field",0)(1,"mat-label"),e._uU(2),e.qZA(),e._UZ(3,"input",1),e.qZA()),2&t&&(e.Q6J("appearance",o.appearance)("color",o.color),e.xp6(2),e.Oqu(o.label),e.xp6(1),e.Q6J("placeholder",o.placeholder)("formControl",o.control),e.uIk("disabled",o.disabled||null))},directives:[g.KE,g.hX,I.Nt,d.Fj,d.JJ,d.oH],encapsulation:2,changeDetection:0}),n})();var _=i(8440);function J(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"app-mini-fab-button",4),e.NdJ("clicked",function(){return e.CHM(t),e.oxw().reset()}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.emptyValue)}}function A(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"app-mini-fab-button",5),e.NdJ("clicked",function(){return e.CHM(t),e.oxw().searchValue()}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.emptyValue)}}let $=(()=>{class n{constructor(){this.search=new e.vpe,this.control=new d.NI,this.active=!1}get emptyValue(){return!this.control.value}searchValue(){this.active=!0,this.search.emit(this.control.value)}reset(){this.active=!1,this.control.setValue(""),this.search.emit("")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-search"]],outputs:{search:"search"},decls:5,vars:4,consts:[[1,"search"],["label","Search","color","accent",3,"control","disabled"],["class","search-icon","icon","clear",3,"disabled","clicked",4,"ngIf","ngIfElse"],["searchButton",""],["icon","clear",1,"search-icon",3,"disabled","clicked"],["icon","search",1,"search-icon",3,"disabled","clicked"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-input",1),e.YNc(2,J,1,1,"app-mini-fab-button",2),e.YNc(3,A,1,1,"ng-template",null,3,e.W1O),e.qZA()),2&t){const s=e.MAs(4);e.xp6(1),e.Q6J("control",o.control)("disabled",o.active),e.xp6(1),e.Q6J("ngIf",o.active)("ngIfElse",s)}},directives:[O,r.O5,_.u],styles:[".search[_ngcontent-%COMP%]{display:flex;gap:8px}.search-icon[_ngcontent-%COMP%]{margin-top:10px}"],changeDetection:0}),n})();var D=i(8099),l=i(4999);function Q(n,a){1&n&&e._UZ(0,"app-spinner",13)}function R(n,a){if(1&n&&(e.TgZ(0,"mat-hint",14)(1,"mat-icon",15),e._uU(2,"flare"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.hij(" ",t.hint,"")}}function F(n,a){if(1&n&&(e.TgZ(0,"th",19),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.title," ")}}function z(n,a){if(1&n&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&n){const t=a.$implicit,o=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[o.name]," ")}}function Y(n,a){1&n&&(e.ynx(0,16),e.YNc(1,F,2,1,"th",17),e.YNc(2,z,2,1,"td",18),e.BQk()),2&n&&e.Q6J("matColumnDef",a.$implicit.name)}function U(n,a){1&n&&e._UZ(0,"tr",21)}function H(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",22),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw().rowClicked.emit(c)}),e.qZA()}}let j=(()=>{class n{constructor(){this.data=[],this.columns=[],this.visibleColumns=[],this.hint="",this.pageSize=0,this.page=1,this.total=0,this.loading=!1,this.navigate=new e.vpe,this.search=new e.vpe,this.rowClicked=new e.vpe}navigatePreviousPage(){return this.page-=1}navigateNextPage(){return this.page+=1}get canNavigatePrevious(){return 1!==this.page}get canNavigateNext(){return this.page<this.total/this.pageSize}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-table"]],viewQuery:function(t,o){if(1&t&&e.Gf(N.NW,5),2&t){let s;e.iGM(s=e.CRH())&&(o.paginator=s.first)}},inputs:{data:"data",columns:"columns",visibleColumns:"visibleColumns",hint:"hint",pageSize:"pageSize",page:"page",total:"total",loading:"loading"},outputs:{navigate:"navigate",search:"search",rowClicked:"rowClicked"},decls:15,vars:9,consts:[[1,"container","mat-elevation-z8"],["class","overlay",4,"ngIf"],[1,"header"],[3,"search"],["class","hint",4,"ngIf"],["mat-table","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"footer"],[1,"pagination"],["color","primary","icon","arrow_back",3,"disabled","clicked"],["color","primary","icon","arrow_forward",3,"disabled","clicked"],[1,"overlay"],[1,"hint"],["color","accent",1,"hint-icon"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Q,1,0,"app-spinner",1),e.TgZ(2,"div",2)(3,"app-search",3),e.NdJ("search",function(c){return o.search.emit(c)}),e.qZA(),e.YNc(4,R,4,1,"mat-hint",4),e.qZA(),e.TgZ(5,"table",5),e.YNc(6,Y,3,1,"ng-container",6),e.YNc(7,U,1,0,"tr",7),e.YNc(8,H,1,0,"tr",8),e.qZA(),e.TgZ(9,"div",9)(10,"div"),e._uU(11),e.qZA(),e.TgZ(12,"div",10)(13,"app-mini-fab-button",11),e.NdJ("clicked",function(){return o.navigate.emit(o.navigatePreviousPage())}),e.qZA(),e.TgZ(14,"app-mini-fab-button",12),e.NdJ("clicked",function(){return o.navigate.emit(o.navigateNextPage())}),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(3),e.Q6J("ngIf",o.hint),e.xp6(1),e.Q6J("dataSource",o.data),e.xp6(1),e.Q6J("ngForOf",o.columns),e.xp6(1),e.Q6J("matHeaderRowDef",o.visibleColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.visibleColumns),e.xp6(3),e.hij("Page: ",o.page,""),e.xp6(2),e.Q6J("disabled",!o.canNavigatePrevious),e.xp6(1),e.Q6J("disabled",!o.canNavigateNext))},directives:[r.O5,S.O,$,g.bx,D.Hw,l.BZ,r.sg,l.w1,l.fO,l.ge,l.Dz,l.ev,l.as,l.XQ,l.nj,l.Gk,_.u],styles:[".container[_ngcontent-%COMP%]{position:relative}.overlay[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:absolute;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1}.header[_ngcontent-%COMP%]{padding-top:16px}.hint[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;padding:0 12px 16px}.hint-icon[_ngcontent-%COMP%]{margin-right:8px}table[_ngcontent-%COMP%]{width:100%}.mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{border-bottom:1px solid transparent;border-top:1px solid transparent;cursor:pointer}.mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{border-color:currentColor}.footer[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:end;gap:16px;flex:1}"],changeDetection:0}),n})();function W(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"app-table",2),e.NdJ("search",function(s){return e.CHM(t),e.oxw().search(s)})("navigate",function(s){return e.CHM(t),e.oxw().loadPage(s)})("rowClicked",function(s){return e.CHM(t),e.oxw().openRowMenu(s)}),e.ALo(1,"async"),e.qZA()}if(2&n){const t=a.ngIf,o=e.oxw();e.Q6J("data",t.data)("columns",o.tableColumns)("visibleColumns",o.visibleColumns)("pageSize",o.pageSize)("total",t.total)("loading",e.lcZ(1,6,o.loading$))}}let E=(()=>{class n{constructor(t,o,s,c,b){this.pokemonService=t,this.dialog=o,this.snackbarService=s,this.router=c,this.storageService=b,this.pokemonData$=new v.X(null),this.loading$=new v.X(!0),this.pageSize=10,this.tableColumns=[{name:"name",title:"Name"}],this.visibleColumns=["name"],this.destroy$=new T.x}ngOnInit(){this.getFilteredPokemonList$().pipe((0,p.R)(this.destroy$),(0,h.x)(()=>this.loading$.next(!1))).subscribe(t=>{this.pokemonData$.next(t)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}openRowMenu(t){const o=this.dialog.open(P,{autoFocus:"dialog"});o.componentInstance.open.pipe((0,p.R)(o.afterClosed())).subscribe(()=>this.navigatePokemonProfile(t.name)),o.componentInstance.addToWishlist.pipe((0,p.R)(o.afterClosed())).subscribe(()=>this.addToWishlist(t.name)),o.componentInstance.addToIveCaught.pipe((0,p.R)(o.afterClosed())).subscribe(()=>this.addToIveCaught(t.name))}loadPage(t){this.loading$.next(!0),this.getFilteredPokemonList$(10*(t-1),10).pipe((0,p.R)(this.destroy$),(0,h.x)(()=>this.loading$.next(!1))).subscribe(o=>{this.pokemonData$.next(o)})}search(t){if(!t)return this.loadPage(1);this.loading$.next(!0),this.pokemonService.getPokemonByName(t).pipe((0,p.R)(this.destroy$),(0,h.x)(()=>this.loading$.next(!1))).subscribe(o=>{this.pokemonData$.next({total:1,data:[{name:o.name}]})},()=>{this.snackbarService.open("Pokemon with such a name is not found","OK")})}navigatePokemonProfile(t){this.router.navigate([`/pokemon/${t}`])}addToWishlist(t){this.storageService.saveToList("wishlist",t),this.snackbarService.open("Pokemon was successfully added to Wishlist","OK")}addToIveCaught(t){this.storageService.saveToList("ive-caught",t),this.snackbarService.open("Pokemon was successfully added to I've caught","OK")}getFilteredPokemonList$(t=0,o=10){return this.pokemonService.getPokemonList(t,o).pipe((0,x.U)(s=>({total:s.count,data:s.results.map(c=>({name:c.name}))})))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.f),e.Y36(m.uw),e.Y36(Z.o),e.Y36(C.F0),e.Y36(y.V))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-pokemons"]],decls:3,vars:3,consts:[[1,"menu"],["hint","Click on a row in order for item menu to appear",3,"data","columns","visibleColumns","pageSize","total","loading","search","navigate","rowClicked",4,"ngIf"],["hint","Click on a row in order for item menu to appear",3,"data","columns","visibleColumns","pageSize","total","loading","search","navigate","rowClicked"]],template:function(t,o){1&t&&(e._UZ(0,"app-menu",0),e.YNc(1,W,2,8,"app-table",1),e.ALo(2,"async")),2&t&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,o.pokemonData$)))},directives:[M.M,r.O5,j],pipes:[r.Ov],encapsulation:2,changeDetection:0}),n})();var X=i(8395);let L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,C.Bz.forChild([{path:"",component:E}]),X.m]]}),n})()}}]);